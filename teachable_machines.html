<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
    <!-- Name of tab -->
    <title>Teachable Machine</title>
    
    <!-- Link to CSS styles page -->
    <link rel="stylesheet" href="stylepage.css">  
    <link href="https://fonts.googleapis.com/css2?family=Boldonse&display=swap" rel="stylesheet">
</head>
<body>
    
    <!-- The navigator bar at the top of the screen - links to our other html pages -->
    <div class="page-container">
    <nav class="navigator"> <!-- To design this, use .navigator{ on stylepage.css -->
        <a href="index.html">Home</a>
        <a href="about_elijah.html">About Us: Elijah</a>
        <a href="about_nia.html">About Us: Nia</a>
        <a href="tech_heroes.html">Tech Heroes</a>
        <a href="resources.html">Resources</a>
        <a href="project_statement.html">Project Statement</a>
        <a href="teachable_machines.html">Our Teachable Machine</a>
    </nav>   

<!-- Title for the page -->
 <h1 class="teachableTitle">The Bananalyzer</h1>

<!-- Body content -->
<p class="text">We named our teachable machine The Bananalyzer. It's purpose is to classify a banana in the several stages of it's development, including when it is not ripe enough, perfect, and overripe. The final category is called No Banana, which can either indicate the absence of a banana or an object different from a banana. Here is a video of it in action.</p>

<!-- Demo video -->
<figure class="video-box">
  <video controls>
    <source src="assets/TM Demo-2.mp4" type="video/mp4">
    Your browser does not support the video tag.
  </video>
</figure>

      
<p class="definitionTM">
  The image below displays the images we have used to train our machine. Notice it is a combination of both images off of the web and ones we have taken ourselves. We found this was easiest way to train our machine as we worked through some issues we had in the beginning of our training. If you are interested in trying our machine, press the start button below or check out
  <a href="https://teachablemachine.withgoogle.com/models/28MjApdG2/" target="_blank">this link!</a>
</p>

<div style="text-align: center;">
  <button type="button" onclick="init()">Start</button>
</div>

<div id="webcam-container"></div>
<div id="label-container"></div>

<!-- Load TensorFlow.js and Teachable Machine libraries -->
<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest/dist/tf.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@latest/dist/teachablemachine-image.min.js"></script>

<script type="text/javascript">
    const URL = "./tm-my-image-model/";  // folder where you uploaded the files

    let model, webcam, labelContainer, maxPredictions;

    async function init() {
        const modelURL = URL + "model.json";
        const metadataURL = URL + "metadata.json";

        model = await tmImage.load(modelURL, metadataURL);
        maxPredictions = model.getTotalClasses();

        const flip = true;
        webcam = new tmImage.Webcam(200, 200, flip);
        await webcam.setup();
        await webcam.play();
        window.requestAnimationFrame(loop);

        document.getElementById("webcam-container").appendChild(webcam.canvas);
        labelContainer = document.getElementById("label-container");
        for (let i = 0; i < maxPredictions; i++) {
            labelContainer.appendChild(document.createElement("div"));
        }
    }

    async function loop() {
        webcam.update();
        await predict();
        window.requestAnimationFrame(loop);
    }

    async function predict() {
        const prediction = await model.predict(webcam.canvas);
        for (let i = 0; i < maxPredictions; i++) {
            const classPrediction =
                prediction[i].className + ": " + prediction[i].probability.toFixed(2);
            labelContainer.childNodes[i].innerHTML = classPrediction;
        }
    }
</script>

    
 
<!-- Screenshot -->
     <figure>
    <img src="images/screenshot.jpg" alt="Image of Our Training" class="bordered">
    </figure>


      
    <p class="followUp">For project three, we have added Joe Weckworth to our group. He contributed to this page. </p>
      
   <!-- Footer -->
  <footer class="footer"> <!-- To design this .footer{ in stylepage.css -->
      <p>
        Nia Davis, Elijah Warren, and Joe Weckworth - LIS 500 Code and Power Project #3
        - University of Wisconsin-Madison
      </p>
  </footer>
  </div>
</body>

</html>
